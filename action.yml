name: "Python Container Action Template"
description: "Get list of PR branch names from list of labels"
author: "festinuz"
inputs:
  github_token:
    description: Token authorized to work with target github repository
    required: true
  source_branch:
    description: Branch used as a base when merging all PRs
    required: true
  target_branch:
    description: Branch that will be pushed to
    required: true
  labels:
    description: "Coma-separated list of labels used to filter PRs"
    required: true
runs:
  using: "composite"
  steps:
    - uses: actions/setup-python@v4
      with:
        python-version: "3.10"
        cache: 'pip' # caching pip dependencies
    - run: pip install -r requirements.txt
      shell: bash
    - run: |
        INPUT_GITHUB_TOKEN="${{ inputs.github_token }}"
        INPUT_SOURCE_BRANCH="${{ inputs.source_branch }}"
        INPUT_TARGET_BRANCH="${{ inputs.target_branch }}"
        INPUT_LABELS="${{ inputs.labels }}"
        python main.py
      shell: bash
